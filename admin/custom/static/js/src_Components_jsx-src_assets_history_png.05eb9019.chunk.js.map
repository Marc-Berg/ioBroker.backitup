{"version":3,"file":"static/js/src_Components_jsx-src_assets_history_png.05eb9019.chunk.js","mappings":"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","sources":["BaseField.jsx","AdapterExist.jsx","BackupNow.jsx","DetectConfig.jsx","CheckConfigInvisible.jsx","GoogleDrive.jsx","Onedrive.jsx","Dropbox.jsx","Instance.jsx","Components/GetBackups.jsx","Components/SourceSelector.jsx","Components/Restore.jsx","RestoreBackup.jsx","CheckAllConfigInvisible.jsx","Components.jsx"],"sourcesContent":["import { Alert } from '@mui/material';\r\n\r\nimport { Info, Warning } from '@mui/icons-material';\r\n\r\nimport { I18n, Message } from '@iobroker/adapter-react-v5';\r\nimport { ConfigGeneric } from '@iobroker/json-config';\r\n\r\nclass BaseField extends ConfigGeneric {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state.message = false;\r\n    }\r\n\r\n    isConfigFilled(type) {\r\n        if (type === 'ccu') {\r\n            return !!this.props.data.ccuHost && !!this.props.data.ccuEnabled;\r\n        }\r\n        if (type === 'mySql') {\r\n            return !!this.props.data.mySqlUser && !!this.props.data.mySqlEnabled;\r\n        }\r\n        if (type === 'sqlite') {\r\n            return !!this.props.data.sqlitePath && !!this.props.data.sqliteEnabled;\r\n        }\r\n        if (type === 'pgSql') {\r\n            return !!this.props.data.pgSqlUser && !!this.props.data.pgSqlEnabled;\r\n        }\r\n        if (type === 'influxDB') {\r\n            return !!this.props.data.influxDBName && !!this.props.data.influxDBEnabled;\r\n        }\r\n        if (type === 'history') {\r\n            return !!this.props.data.historyPath && !!this.props.data.historyEnabled;\r\n        }\r\n        this.showMessage(I18n.t('BackItUp Warning!'), I18n.t('Unknown config type %s', type));\r\n        return false;\r\n    }\r\n\r\n    fetchConfig = async (type, data) => {\r\n        if (type === 'ccu') {\r\n            return this.fetchCcuConfig(data);\r\n        }\r\n        if (type === 'mySql') {\r\n            return this.fetchMySqlConfig(data);\r\n        }\r\n        if (type === 'sqlite') {\r\n            return this.fetchSqliteConfig(data);\r\n        }\r\n        if (type === 'pgSql') {\r\n            return this.fetchPgSqlConfig(data);\r\n        }\r\n        if (type === 'influxDB') {\r\n            return this.fetchInfluxDBConfig(data);\r\n        }\r\n        if (type === 'history') {\r\n            return this.fetchHistoryConfig(data);\r\n        }\r\n\r\n        this.showMessage(I18n.t('BackItUp Warning!'), I18n.t('Unknown config type %s', type));\r\n        return { changed: false, found: false };\r\n    };\r\n\r\n    async fetchCcuConfig(data) {\r\n        const result = Object.values(await this.props.socket.getObjectViewCustom('system', 'instance', 'system.adapter.hm-rpc.', 'system.adapter.hm-rpc.\\u9999'));\r\n\r\n        let found = false;\r\n        let changed = false;\r\n        if (result && result.length) {\r\n            for (let i = 0; i < result.length; i++) {\r\n                const common = result[i].common;\r\n                const native = result[i].native;\r\n                if (common.enabled && native) {\r\n                    if (data.ccuHost !== native.homematicAddress || data.ccuUsehttps !== native.useHttps) {\r\n                        data.ccuHost = native.homematicAddress;\r\n                        data.ccuUsehttps = native.useHttps;\r\n                        changed = true;\r\n                    }\r\n                    found = result[i]._id;\r\n                    break;\r\n                }\r\n            }\r\n            if (!found) {\r\n                for (let i = 0; i < result.length; i++) {\r\n                    const native = result[i].native;\r\n                    if (native && (data.ccuHost !== native.homematicAddress || data.ccuUsehttps !== native.useHttps)) {\r\n                        data.ccuHost = native.homematicAddress;\r\n                        data.ccuUsehttps = native.useHttps;\r\n                        changed = true;\r\n                    }\r\n                    found = result[i]._id;\r\n                }\r\n            }\r\n        }\r\n\r\n        return { changed, found };\r\n    }\r\n\r\n    async fetchMySqlConfig(data) {\r\n        const result = Object.values(await this.props.socket.getObjectViewCustom('system', 'instance', 'system.adapter.sql.', 'system.adapter.sql.\\u9999'));\r\n\r\n        let found = false;\r\n        let changed = false;\r\n        if (result && result.length) {\r\n            for (let i = 0; i < result.length; i++) {\r\n                const common = result[i].common;\r\n                const native = result[i].native;\r\n                if (common.enabled && native?.dbtype === 'mysql') {\r\n                    const port = native.port === '0' ? 3306 : (native.port || 3306);\r\n                    if (data.mySqlUser !== native.user ||\r\n                        data.mySqlPassword !== native.password ||\r\n                        data.mySqlHost !== native.host ||\r\n                        data.mySqlPort !== port ||\r\n                        data.mySqlName !== native.dbname\r\n                    ) {\r\n                        data.mySqlUser = native.user;\r\n                        data.mySqlPassword = native.password;\r\n                        data.mySqlHost = native.host;\r\n                        data.mySqlPort = port;\r\n                        data.mySqlName = native.dbname;\r\n                        changed = true;\r\n                    }\r\n                    found = result[i]._id;\r\n                    break;\r\n                }\r\n            }\r\n            if (!found) {\r\n                for (let i = 0; i < result.length; i++) {\r\n                    const native = result[i].native;\r\n                    if (native?.dbtype === 'mysql') {\r\n                        const port = native.port === '0' ? 3306 : (native.port || 3306);\r\n                        if (data.mySqlUser !== native.user ||\r\n                            data.mySqlPassword !== native.password ||\r\n                            data.mySqlHost !== native.host ||\r\n                            data.mySqlPort !== port ||\r\n                            data.mySqlName !== native.dbname\r\n                        ) {\r\n                            data.mySqlUser = native.user;\r\n                            data.mySqlPassword = native.password;\r\n                            data.mySqlHost = native.host;\r\n                            data.mySqlPort = port;\r\n                            data.mySqlName = native.dbname;\r\n                            changed = true;\r\n                        }\r\n                        found = result[i]._id;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return { changed, found };\r\n    }\r\n\r\n    async fetchSqliteConfig(data) {\r\n        const result = Object.values(await this.props.socket.getObjectViewCustom('system', 'instance', 'system.adapter.sql.', 'system.adapter.sql.\\u9999'));\r\n        let found = false;\r\n        let changed = false;\r\n        if (result && result.length) {\r\n            for (let i = 0; i < result.length; i++) {\r\n                const common = result[i].common;\r\n                const native = result[i].native;\r\n                if (common.enabled && native && native.dbtype === 'sqlite' && native.fileName) {\r\n                    const pathLength = native.fileName.split('/');\r\n                    const sqlitePath = pathLength > 1 ? native.fileName : `/opt/iobroker/iobroker-data/sqlite/${native.fileName}`;\r\n                    if (data.sqlitePath !== sqlitePath) {\r\n                        data.sqlitePath = sqlitePath;\r\n                        changed = true;\r\n                    }\r\n                    found = result[i]._id;\r\n                    break;\r\n                }\r\n            }\r\n            if (!found) {\r\n                for (let i = 0; i < result.length; i++) {\r\n                    const native = result[i].native;\r\n                    if (native?.dbtype === 'sqlite' && native.fileName) {\r\n                        const pathLength = native.fileName.split('/');\r\n                        const sqlitePath = pathLength > 1 ? native.fileName : `/opt/iobroker/iobroker-data/sqlite/${native.fileName}`;\r\n                        if (data.sqlitePath !== sqlitePath) {\r\n                            data.sqlitePath = sqlitePath;\r\n                            changed = true;\r\n                        }\r\n                        found = result[i]._id;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return { changed, found };\r\n    }\r\n\r\n    async fetchPgSqlConfig(data) {\r\n        const result = Object.values(await this.props.socket.getObjectViewCustom('system', 'instance', 'system.adapter.sql.', 'system.adapter.sql.\\u9999'));\r\n\r\n        let found = false;\r\n        let changed = false;\r\n        if (result && result.length) {\r\n            for (let i = 0; i < result.length; i++) {\r\n                const common = result[i].common;\r\n                const native = result[i].native;\r\n                if (common.enabled && native?.dbtype === 'postgresql') {\r\n                    const port = native.port === '0' ? 5432 : native.port || 5432;\r\n                    if (data.pgSqlUser !== native.user ||\r\n                        data.pgSqlPassword !== native.password ||\r\n                        data.pgSqlHost !== native.host ||\r\n                        data.pgSqlPort !== port ||\r\n                        data.pgSqlName !== native.dbname\r\n                    ) {\r\n                        data.pgSqlUser = native.user;\r\n                        data.pgSqlPassword = native.password;\r\n                        data.pgSqlHost = native.host;\r\n                        data.pgSqlPort = port;\r\n                        data.pgSqlName = native.dbname;\r\n                        changed = true;\r\n                    }\r\n                    found = result[i]._id;\r\n                    break;\r\n                }\r\n            }\r\n            if (!found) {\r\n                for (let i = 0; i < result.length; i++) {\r\n                    const native = result[i].native;\r\n                    if (native?.dbtype === 'postgresql') {\r\n                        const port = native.port === '0' ? 5432 : native.port || 5432;\r\n                        if (data.pgSqlUser !== native.user ||\r\n                            data.pgSqlPassword !== native.password ||\r\n                            data.pgSqlHost !== native.host ||\r\n                            data.pgSqlPort !== port ||\r\n                            data.pgSqlName !== native.dbname\r\n                        ) {\r\n                            data.pgSqlUser = native.user;\r\n                            data.pgSqlPassword = native.password;\r\n                            data.pgSqlHost = native.host;\r\n                            data.pgSqlPort = port;\r\n                            data.pgSqlName = native.dbname;\r\n                            changed = true;\r\n                        }\r\n                        found = result[i]._id;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return { changed, found };\r\n    }\r\n\r\n    async fetchInfluxDBConfig(data) {\r\n        const result = Object.values(await this.props.socket.getObjectViewCustom('system', 'instance', 'system.adapter.influxdb.', 'system.adapter.influxdb.\\u9999'));\r\n        let found = false;\r\n        let changed = false;\r\n        if (result && result.length) {\r\n            for (let i = 0; i < result.length; i++) {\r\n                const common = result[i].common;\r\n                const native = result[i].native;\r\n                if (common.enabled) {\r\n                    if (data.influxDBHost !== native.host ||\r\n                        data.influxDBVersion !== native.dbversion ||\r\n                        data.influxDBProtocol !== native.protocol ||\r\n                        data.influxDBName !== native.dbname ||\r\n                        (native.dbversion === '2.x' && data.influxDBPort !== native.port)\r\n                    ) {\r\n                        data.influxDBHost = native.host;\r\n                        data.influxDBVersion = native.dbversion;\r\n                        data.influxDBProtocol = native.protocol;\r\n                        data.influxDBName = native.dbname;\r\n                        if (native.port && native.dbversion === '2.x') {\r\n                            data.influxDBPort = native.port;\r\n                        }\r\n                        changed = true;\r\n                    }\r\n\r\n                    found = result[i]._id;\r\n                    break;\r\n                }\r\n            }\r\n            if (!found && result.length && result[0].native) {\r\n                const native = result[0].native;\r\n                if (native && (data.influxDBHost !== native.host ||\r\n                    data.influxDBVersion !== native.dbversion ||\r\n                    data.influxDBProtocol !== native.protocol ||\r\n                    data.influxDBName !== native.dbname ||\r\n                    (native.dbversion === '2.x' && data.influxDBPort !== native.port))\r\n                ) {\r\n                    data.influxDBHost = native.host;\r\n                    data.influxDBVersion = native.dbversion;\r\n                    data.influxDBProtocol = native.protocol;\r\n                    data.influxDBName = native.dbname;\r\n                    if (native.port && native.dbversion === '2.x') {\r\n                        data.influxDBPort = native.port;\r\n                    }\r\n                    changed = true;\r\n                }\r\n\r\n                found = result[0]._id;\r\n            }\r\n        }\r\n\r\n        return { changed, found };\r\n    }\r\n\r\n    async fetchHistoryConfig(data) {\r\n        const result = Object.values(await this.props.socket.getObjectViewCustom('system', 'instance', 'system.adapter.history.', 'system.adapter.history.\\u9999'));\r\n\r\n        let storeDir = '';\r\n        let found = false;\r\n        let changed = false;\r\n        if (result && result.length) {\r\n            for (let i = 0; i < result.length; i++) {\r\n                const common = result[i].common;\r\n                const native = result[i].native;\r\n                if (common.enabled && native) {\r\n                    const historyPath = native.storeDir && !native.storeDir.startsWith('/opt/iobroker/backups') ? native.storeDir : '/opt/iobroker/iobroker-data/history';\r\n                    if (data.historyPath !== historyPath) {\r\n                        data.historyPath = historyPath;\r\n                        changed = true;\r\n                    }\r\n                    storeDir = native.storeDir;\r\n                    found = result[i]._id;\r\n                    break;\r\n                }\r\n            }\r\n            if (!found && result[0]) {\r\n                const native = result[0].native;\r\n                if (native) {\r\n                    const historyPath = native.storeDir && !native.storeDir.startsWith('/opt/iobroker/backups') ? native.storeDir : '/opt/iobroker/iobroker-data/history';\r\n                    if (data.historyPath !== historyPath) {\r\n                        data.historyPath = historyPath;\r\n                        changed = true;\r\n                    }\r\n                    storeDir = native.storeDir;\r\n                    found = result[0]._id;\r\n                }\r\n            }\r\n        }\r\n\r\n        let message;\r\n        if (found) {\r\n            if (!storeDir) {\r\n                message = I18n.t('No storage path of %s is configured.\\nThe default path of the history adapter has been set.', found.substring('system.adapter.'.length));\r\n            } else if (storeDir?.startsWith('/opt/iobroker/backups')) {\r\n                message = I18n.t('The storage path of %s must not be identical to the path for backups.\\nThe default path of the history adapter has been set.\\n\\nPlease change the path in the history adapter!', found.substring('system.adapter.'.length));\r\n            }\r\n        }\r\n\r\n        return { changed, found, message };\r\n    }\r\n\r\n    checkAdapterInstall = async (name, ignoreHosts) => {\r\n        const backItUpHost = this.props.common.host;\r\n        const ignore = false;\r\n        let adapterName = name;\r\n\r\n        if (name === 'pgsql' || name === 'mysql' || name === 'sqlite') {\r\n            adapterName = 'sql';\r\n        }\r\n\r\n        const SHOW_MESSAGE_FOR = [\r\n            'zigbee',\r\n            'esphome',\r\n            'zigbee2mqtt',\r\n            'node-red',\r\n            'yahka',\r\n            'jarvis',\r\n            'history',\r\n        ];\r\n\r\n        if (!ignore) {\r\n            const res = Object.values(await this.props.socket.getObjectViewCustom('system', 'instance', `system.adapter.${adapterName}.`, `system.adapter.${adapterName}.\\u9999`));\r\n            if (res?.length) {\r\n                let found = false;\r\n                for (let i = 0; i < res.length; i++) {\r\n                    const common = res[i].common;\r\n\r\n                    if (common.host === backItUpHost || ignoreHosts) {\r\n                        found = true;\r\n                        break;\r\n                    }\r\n                }\r\n                if (!found && SHOW_MESSAGE_FOR.includes(adapterName)) {\r\n                    this.showMessage(I18n.t('BackItUp Warning!'), I18n.t('No %s Instance found on this host.\\nPlease check your System', adapterName), 'warning');\r\n                }\r\n            } else if (SHOW_MESSAGE_FOR.includes(adapterName)) {\r\n                this.showMessage(I18n.t('BackItUp Warning!'), I18n.t('No %s Instance found on this host.\\nPlease check your System', adapterName), 'warning');\r\n            }\r\n        }\r\n    };\r\n\r\n    showMessage = (title, text, level) => {\r\n        this.setState({ message: { title, text, level: level || 'info' } });\r\n    };\r\n\r\n    renderMessage() {\r\n        if (!this.state.message) {\r\n            return null;\r\n        }\r\n\r\n        const lines = this.state.message.text.split('\\n')\r\n            .map(line => <div key={line} style={{ minHeight: 24 }}>{line}</div>);\r\n\r\n        return this.state.message ? <Message\r\n            title={this.state.message.title}\r\n            text={lines}\r\n            icon={this.state.message.level === 'info' ? <Info /> :\r\n                (this.state.message.level === 'warning' ? <Warning style={{ color: 'orange' }} /> :\r\n                    (this.state.message.level === 'error' ? <Alert style={{ color: 'red' }} /> : null))}\r\n            onClose={() => this.setState({ message: false })}\r\n        /> : null;\r\n    }\r\n}\r\n\r\nexport default BaseField;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Checkbox, FormControlLabel } from '@mui/material';\r\n\r\nimport { I18n } from '@iobroker/adapter-react-v5';\r\n\r\nimport BaseField from './BaseField';\r\n\r\nclass AdapterExist extends BaseField {\r\n    renderItem() {\r\n        return <>\r\n            <FormControlLabel\r\n                control={<Checkbox\r\n                    checked={((this.props.schema.adapter === 'hm-rpc' || this.props.schema.adapter === 'javascript' || this.props.schema.adapter === 'backitup') && this.props.data.hostType === 'Slave') ? false : this.props.data[this.props.attr] ? this.props.data[this.props.attr] : false}\r\n                    disabled={\r\n                        ((this.props.schema.adapter === 'influxdb' || this.props.schema.adapter === 'sql') && this.props.data._nonSupportDockerDB) ||\r\n                        ((this.props.schema.adapter === 'hm-rpc' || this.props.schema.adapter === 'javascript' || this.props.schema.adapter === 'backitup') && this.props.data.hostType === 'Slave')\r\n                    }\r\n                    onChange={async e => {\r\n                        if (e.target.checked) {\r\n                            if (this.props.schema.adapter) {\r\n                                this.checkAdapterInstall(this.props.schema.adapter, this.props.schema.allHosts)\r\n                                    .catch(err => console.error(err));\r\n                            } else if (this.props.schema.alert) {\r\n                                this.setState({ message: { text: I18n.t(this.props.schema.alert), title: I18n.t(this.props.schema.title) } });\r\n                            }\r\n                        }\r\n                        this.props.onChange({ ...this.props.data, [this.props.attr]: e.target.checked });\r\n                    }}\r\n                />}\r\n                label={I18n.t(this.props.schema.label || this.props.schema.adapter)}\r\n            />\r\n            {this.renderMessage()}\r\n        </>;\r\n    }\r\n}\r\n\r\nAdapterExist.propTypes = {\r\n    socket: PropTypes.object.isRequired,\r\n    themeType: PropTypes.string,\r\n    themeName: PropTypes.string,\r\n    style: PropTypes.object,\r\n    className: PropTypes.string,\r\n    data: PropTypes.object.isRequired,\r\n    attr: PropTypes.string,\r\n    schema: PropTypes.object,\r\n    onError: PropTypes.func,\r\n    onChange: PropTypes.func,\r\n};\r\n\r\nexport default AdapterExist;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport {\r\n    Button, Checkbox, Dialog,\r\n    DialogActions, DialogContent,\r\n    DialogTitle, FormControlLabel, LinearProgress,\r\n} from '@mui/material';\r\nimport { CloudUploadOutlined } from '@mui/icons-material';\r\n\r\nimport { I18n } from '@iobroker/adapter-react-v5';\r\n\r\nimport { ConfigGeneric } from '@iobroker/json-config';\r\n\r\nconst styles = {\r\n    paper: {\r\n        height: 'calc(100% - 64px)',\r\n    },\r\n    textTime: {\r\n        display: 'inline-block',\r\n        width: 95,\r\n    },\r\n    responseTextTime: {\r\n        display: 'inline-block',\r\n        width: 70,\r\n    },\r\n    textLevel: {\r\n        display: 'inline-block',\r\n        width: 50,\r\n    },\r\n    'textLevel-ERROR': {\r\n        color: 'red',\r\n    },\r\n    'textLevel-WARN': {\r\n        color: 'orange',\r\n    },\r\n    'textLevel-INFO': {\r\n        color: '#00b204',\r\n    },\r\n    textSource: {\r\n        display: 'inline-block',\r\n        width: 100,\r\n        textAlign: 'left',\r\n    },\r\n    text: {\r\n        display: 'inline-block',\r\n    },\r\n    responseText: {\r\n        display: 'inline-block',\r\n        wordWrap: 'break-word',\r\n    },\r\n    textLine: {\r\n        whiteSpace: 'nowrap',\r\n    },\r\n    responseTextLine: {\r\n        whiteSpace: 'normal',\r\n    },\r\n    dialogContent: {\r\n        position: 'relative',\r\n        padding: 16,\r\n    },\r\n    logContainer: {\r\n        fontSize: 12,\r\n        fontFamily: 'monospace',\r\n        padding: 8,\r\n        border: '1px solid grey',\r\n        borderRadius: 5,\r\n        overflow: 'auto',\r\n        boxSizing: 'border-box',\r\n        height: 'calc(100% - 16px - 4px)',\r\n        width: 'calc(100% - 16px)',\r\n    },\r\n    responseLogContainer: {\r\n        position: 'relative',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        gap: 15,\r\n    },\r\n    dialogActions: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'stretch',\r\n    },\r\n};\r\n\r\nclass BackupNow extends ConfigGeneric {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            ...this.state,\r\n            executing: false,\r\n            executionDialog: false,\r\n            executionLog: [],\r\n            closeOnReady: false,\r\n            styles,\r\n            isFullScreen: false,\r\n        };\r\n        this.lastExecutionLine = '';\r\n        this.textRef = React.createRef();\r\n    }\r\n\r\n    static getTime() {\r\n        const date = new Date();\r\n        return `${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}:${date.getSeconds().toString().padStart(2, '0')}.${date.getMilliseconds().toString().padStart(3, '0')}`;\r\n    }\r\n\r\n    onOutput = (id, state) => {\r\n        if (state && state.val && state.val !== this.lastExecutionLine) {\r\n            this.lastExecutionLine = state.val;\r\n            const executionLog = [...this.state.executionLog];\r\n            const lines = (state.val || '').toString().replace(/\\n$/, '').split('\\n');\r\n            const now = BackupNow.getTime();\r\n            lines.forEach(line => {\r\n                line = line.trim();\r\n                if (!line) {\r\n                    // return;\r\n                }\r\n                const parts = line.match(/^\\[(\\w+)] \\[(\\w+)] - (.*)/);\r\n                if (parts) {\r\n                    executionLog.push({\r\n                        level: parts[1],\r\n                        source: parts[2],\r\n                        ts: now,\r\n                        text: parts[3],\r\n                    });\r\n                } else if (state.val.startsWith('[EXIT]')) {\r\n                    const code = state.val.match(/^\\[EXIT] ([-\\d]+)/);\r\n                    executionLog.push({\r\n                        level: code[1] === '0' ? 'INFO' : 'WARN',\r\n                        source: 'gui',\r\n                        ts: now,\r\n                        text: code[1] === '0' ? I18n.t('The backup was successfully created!') : I18n.t('The backup could not be created completely!'),\r\n                    });\r\n                } else {\r\n                    executionLog.push({ text: line });\r\n                }\r\n            });\r\n\r\n            // scroll down\r\n            if (this.textRef.current && this.textRef.current.scrollTop + this.textRef.current.clientHeight >= this.textRef.current.scrollHeight) {\r\n                setTimeout(() => this.textRef.current.scrollTop = this.textRef.current.scrollHeight, 100);\r\n            }\r\n\r\n            this.setState({ executionLog });\r\n\r\n            if (state.val.startsWith('[EXIT]')) {\r\n                this.setState({ executing: false });\r\n                const code = state.val.match(/^\\[EXIT] ([-\\d]+)/);\r\n                if (this.state.closeOnReady && (!code || code[1] === '0')) {\r\n                    this.closeTimeout = this.closeTimeout || setTimeout(() => {\r\n                        this.closeTimeout = null;\r\n                        this.setState({ executionDialog: false });\r\n                    }, 1500);\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    async componentDidMount() {\r\n        super.componentDidMount();\r\n        await this.props.socket.subscribeState(`${this.props.adapterName}.${this.props.instance}.oneClick.${this.props.schema.backUpType}`, this.onEnabled);\r\n        await this.props.socket.subscribeState(`${this.props.adapterName}.${this.props.instance}.output.line`, this.onOutput);\r\n        this.updateFullScreenMode();\r\n        window.addEventListener('resize', this.updateFullScreenMode);\r\n    }\r\n\r\n    onEnabled = (id, state) => {\r\n        if (id === `${this.props.adapterName}.${this.props.instance}.oneClick.${this.props.schema.backUpType}`) {\r\n            if (!!state?.val !== this.state.executing) {\r\n                this.setState({ executing: !!state?.val });\r\n            }\r\n        }\r\n    };\r\n\r\n    componentWillUnmount() {\r\n        super.componentWillUnmount();\r\n        this.props.socket.unsubscribeState(`${this.props.adapterName}.${this.props.instance}.oneClick.${this.props.schema.backUpType}`, this.onEnabled);\r\n        this.props.socket.unsubscribeState(`${this.props.adapterName}.${this.props.instance}.output.line`, this.onOutput);\r\n        this.closeTimeout && clearTimeout(this.closeTimeout);\r\n        this.closeTimeout = null;\r\n        window.removeEventListener('resize', this.updateFullScreenMode);\r\n    }\r\n\r\n    updateFullScreenMode = () => {\r\n        const isFullScreen = window.matchMedia('(max-width: 600px)').matches;\r\n        this.setState({ isFullScreen });\r\n    };\r\n\r\n    renderLine(line, i) {\r\n        return <div key={i} style={{ ...this.state.isFullScreen ? this.state.styles.responseTextLine : this.state.styles.textLine }}>\r\n            <div style={{ ...this.state.styles.textTime, ...(line.level ? this.state.styles[`textLevel-${line.level}`] : undefined) }}>\r\n                {line.ts}\r\n            </div>\r\n            <div style={{ ...this.state.styles.textLevel, ...(line.level ? this.state.styles[`textLevel-${line.level}`] : undefined) }}>\r\n                {line.level}\r\n            </div>\r\n            <div style={{ ...this.state.styles.textSource, ...(line.level ? this.state.styles[`textLevel-${line.level}`] : undefined) }}>\r\n                {line.source}\r\n            </div>\r\n            <div style={{ ...(this.state.isFullScreen ? this.state.styles.responseText : this.state.styles.text), ...(line.level ? this.state.styles[`textLevel-${line.level}`] : undefined) }}>\r\n                {line.text}\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    renderExecutionDialog() {\r\n        return this.state.executionDialog ? (\r\n            <Dialog\r\n                open={!0}\r\n                onClose={() => this.setState({ executionDialog: false })}\r\n                maxWidth=\"lg\"\r\n                fullWidth\r\n                fullScreen={this.state.isFullScreen}\r\n                sx={{ '& .MuiDialog-paper': this.state.styles.paper }}\r\n            >\r\n                <DialogTitle>\r\n                    <CloudUploadOutlined style={{ width: 24, height: 24, margin: '0 10px -4px 0' }} />\r\n                    {I18n.t('BackItUp execution:')}\r\n                </DialogTitle>\r\n                <DialogContent style={this.state.styles.dialogContent}>\r\n                    {this.state.executing ? (\r\n                        <LinearProgress\r\n                            style={{\r\n                                position: 'absolute',\r\n                                top: 0,\r\n                                left: 24,\r\n                                width: 'calc(100% - 64px)',\r\n                            }}\r\n                        />\r\n                    ) : (\r\n                        <div style={{ height: 4, width: 'calc(100% - 64px)' }} />\r\n                    )}\r\n                    <div\r\n                        style={{\r\n                            ...this.state.styles.logContainer,\r\n                            ...(this.state.isFullScreen ? this.state.styles.responseLogContainer : undefined),\r\n                            backgroundColor: this.props.themeType === 'dark' ? '#111' : '#EEE',\r\n                        }}\r\n                        ref={this.textRef}\r\n                    >\r\n                        {this.state.executionLog.map((line, i) => this.renderLine(line, i))}\r\n                    </div>\r\n                </DialogContent>\r\n                <DialogActions style={{ ...(this.state.isFullScreen ? this.state.styles.dialogActions : undefined) }}>\r\n                    <FormControlLabel\r\n                        control={\r\n                            <Checkbox\r\n                                disabled={!this.state.executing}\r\n                                checked={this.state.closeOnReady}\r\n                                onChange={e => this.setState({ closeOnReady: e.target.checked })}\r\n                            />\r\n                        }\r\n                        label={I18n.t('Close on ready')}\r\n                    />\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color={this.props.color}\r\n                        onClick={() => this.setState({ executionDialog: false })}\r\n                    >\r\n                        {I18n.t('Close')}\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        ) : null;\r\n    }\r\n\r\n    renderItem() {\r\n        return (\r\n            <>\r\n                <Button\r\n                    disabled={!this.props.alive || this.state.executing}\r\n                    onClick={() => this.setState({\r\n                        executionDialog: true,\r\n                        executionLog: [{\r\n                            ts: BackupNow.getTime(),\r\n                            level: 'INFO',\r\n                            text: I18n.t('starting Backup...'),\r\n                            source: 'gui',\r\n                        }],\r\n                        executing: true,\r\n                    }, async () => {\r\n                        this.lastExecutionLine = '';\r\n                        await this.props.socket.setState(`${this.props.adapterName}.${this.props.instance}.oneClick.${this.props.schema.backUpType}`, true);\r\n                    })}\r\n                    className={this.props.className}\r\n                    color={this.props.color}\r\n                    variant=\"contained\"\r\n                    style={this.props.style}\r\n                    endIcon={<CloudUploadOutlined />}\r\n                >\r\n                    {this.props.schema.label ? I18n.t(this.props.schema.label) : I18n.t('Backup now')}\r\n                </Button>\r\n                {this.renderExecutionDialog()}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nBackupNow.propTypes = {\r\n    socket: PropTypes.object.isRequired,\r\n    themeType: PropTypes.string,\r\n    style: PropTypes.object,\r\n    className: PropTypes.string,\r\n    schema: PropTypes.object,\r\n    onError: PropTypes.func,\r\n};\r\n\r\nexport default BackupNow;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Button } from '@mui/material';\r\n\r\nimport { Search } from '@mui/icons-material';\r\n\r\nimport { I18n } from '@iobroker/adapter-react-v5';\r\n\r\nimport BaseField from './BaseField';\r\n\r\nclass DetectConfig extends BaseField {\r\n    renderItem() {\r\n        return <>\r\n            <Button\r\n                variant=\"contained\"\r\n                endIcon={<Search />}\r\n                onClick={async () => {\r\n                    const data = { ...this.props.data };\r\n                    const result = await this.fetchConfig(this.props.schema.adapter, data);\r\n                    if (result.found) {\r\n                        if (result.changed) {\r\n                            this.showMessage(I18n.t('BackItUp Information!'), result.message || I18n.t('Config taken from %s', result.found.substring('system.adapter.'.length)));\r\n                            this.props.onChange(data);\r\n                        } else {\r\n                            this.showMessage(I18n.t('BackItUp Information!'), result.message || I18n.t('Config found in %s, but nothing changed', result.found.substring('system.adapter.'.length)));\r\n                        }\r\n                    } else {\r\n                        this.showMessage(I18n.t('BackItUp Warning!'), I18n.t('No config found'), 'warning');\r\n                    }\r\n                }}\r\n            >\r\n                {I18n.t('Detect config')}\r\n            </Button>\r\n            {this.renderMessage()}\r\n        </>;\r\n    }\r\n}\r\n\r\nDetectConfig.propTypes = {\r\n    socket: PropTypes.object.isRequired,\r\n    themeType: PropTypes.string,\r\n    themeName: PropTypes.string,\r\n    style: PropTypes.object,\r\n    className: PropTypes.string,\r\n    data: PropTypes.object.isRequired,\r\n    attr: PropTypes.string,\r\n    schema: PropTypes.object,\r\n    onError: PropTypes.func,\r\n    onChange: PropTypes.func,\r\n};\r\n\r\nexport default DetectConfig;\r\n","import PropTypes from 'prop-types';\r\n\r\nimport BaseField from './BaseField';\r\n\r\nclass CheckConfigInvisible extends BaseField {\r\n    async componentDidMount() {\r\n        super.componentDidMount();\r\n        if (!this.isConfigFilled(this.props.schema.adapter)) {\r\n            const data = { ...this.props.data };\r\n            const result = await this.fetchConfig(this.props.schema.adapter, data);\r\n            if (result.changed) {\r\n                this.props.onChange(data);\r\n            }\r\n        }\r\n    }\r\n\r\n    renderItem() {\r\n        return this.renderMessage();\r\n    }\r\n}\r\n\r\nCheckConfigInvisible.propTypes = {\r\n    socket: PropTypes.object.isRequired,\r\n    themeType: PropTypes.string,\r\n    themeName: PropTypes.string,\r\n    style: PropTypes.object,\r\n    className: PropTypes.string,\r\n    data: PropTypes.object.isRequired,\r\n    attr: PropTypes.string,\r\n    schema: PropTypes.object,\r\n    onError: PropTypes.func,\r\n    onChange: PropTypes.func,\r\n};\r\n\r\nexport default CheckConfigInvisible;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Button, TextField } from '@mui/material';\r\nimport { CloudUpload } from '@mui/icons-material';\r\n\r\nimport { I18n } from '@iobroker/adapter-react-v5';\r\nimport { ConfigGeneric } from '@iobroker/json-config';\r\n\r\nclass GoogleDrive extends ConfigGeneric {\r\n    componentDidMount() {\r\n        super.componentDidMount();\r\n        (window.addEventListener || window.attachEvent)(window.addEventListener ? 'message' : 'onmessage', this.onMessage, false);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        super.componentWillUnmount();\r\n        (window.removeEventListener || window.detachEvent)(window.removeEventListener ? 'message' : 'onmessage', this.onMessage, false);\r\n    }\r\n\r\n    onMessage = (event) => {\r\n        if (event.origin !== 'https://googleauth.iobroker.in') {\r\n            return;\r\n        }\r\n        if ((typeof event.data === 'string' && event.data.startsWith('google-authentication:')) ||\r\n            (typeof event.message === 'string' && event.message.startsWith('google-authentication:'))\r\n        ) {\r\n            const parts = (event.data || event.message).split(':');\r\n            if (parts[1] === 'success') {\r\n                this.setState({ googleDriveUrl: '', googledriveAccessTokens: parts[2], success: true }, () =>\r\n                    this.props.onChange({ ...this.props.data, googledriveAccessTokens: this.state.googledriveAccessTokens }));\r\n\r\n                this.googleAuthWindow?.postMessage('close', event.origin);\r\n                this.googleAuthWindow = null;\r\n            } else {\r\n                this.props.onError && this.props.onError(parts[2]);\r\n            }\r\n        }\r\n    }\r\n\r\n    onOpenUrl() {\r\n        this.googleAuthWindow = window.open(this.state.googleDriveUrl, 'ioBrokerGoogleAuth');\r\n        if (!this.googleAuthWindow || this.googleAuthWindow.closed || typeof this.googleAuthWindow.closed === 'undefined') {\r\n            this.setState({ blocked: true });\r\n        }\r\n    }\r\n\r\n    renderItem() {\r\n        return <div style={{ width: '100%', margin: '0 0 1rem 0' }}>\r\n            <Button\r\n                disabled={this.state.googleDriveUrl || !this.props.alive || this.state.running}\r\n                endIcon={<CloudUpload />}\r\n                variant=\"contained\"\r\n                onClick={() => this.setState({ running: true }, async () => {\r\n                    const result = await this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`, 'authGoogleDrive', { url: `${window.location.protocol}//${window.location.host}${window.location.pathname}` });\r\n                    this.setState({ googleDriveUrl: result.url, running: false }, () => this.onOpenUrl());\r\n                })}\r\n            >\r\n                {I18n.t(\r\n                    this.props.data.googledriveAccessTokens ?\r\n                        'Renew Google Drive Access' :\r\n                        'Get Google Drive Access',\r\n                )}\r\n            </Button>\r\n            {this.state.blocked ? <div style={{ color: 'red', fontSize: 16, marginTop: 20 }}>\r\n                {I18n.t('Please allow popups in your browser for this page!')}\r\n            </div> : null}\r\n            {this.state.success && this.props.originalData?.googledriveAccessTokens !== this.state.googledriveAccessTokens ?\r\n                <div style={{ color: 'green', fontSize: 16, marginTop: 20 }}>\r\n                    {I18n.t('Successfully authorized. Now please be sure, the configuration is saved.')}\r\n                </div> : null}\r\n            {this.state.success && this.props.originalData?.googledriveAccessTokens === this.state.googledriveAccessTokens ?\r\n                <div style={{ color: 'green', fontWeight: 'bold', fontSize: 16, marginTop: 20 }}>\r\n                    {I18n.t('Successfully authorized!')}\r\n                </div> : null}\r\n            {!this.state.success && this.props.data.googledriveAccessTokens ?\r\n                <div style={{ color: 'green', fontWeight: 'bold', fontSize: 16, marginTop: 20 }}>\r\n                    {I18n.t('Authorization token exists')}\r\n                </div> : null}\r\n            {this.state.googleDriveUrl ? <>\r\n                <div style={{ width: '100%', margin: '1rem 0 1rem 0' }}>\r\n                    <span style={{ marginRight: 4 }}>{`${I18n.t('Authorize this app by visiting this url:')}`}</span>\r\n                    <br />\r\n                    <a\r\n                        target=\"_blank\"\r\n                        href={this.state.googleDriveUrl}\r\n                        rel=\"noreferrer\"\r\n                    >\r\n                        {this.state.googleDriveUrl}\r\n                    </a>\r\n                </div>\r\n                <TextField\r\n                    value={this.state.googledriveAccessTokens}\r\n                    label={I18n.t('Enter the code from that page here')}\r\n                    variant=\"standard\"\r\n                    onChange={e => {\r\n                        this.setState({ googledriveAccessTokens: e.target.value }, () =>\r\n                            this.props.onChange({ ...this.props.data, googledriveAccessTokens: this.state.googledriveAccessTokens }));\r\n                    }}\r\n                    fullWidth\r\n                />\r\n            </> : null}\r\n        </div>;\r\n    }\r\n}\r\n\r\nGoogleDrive.propTypes = {\r\n    socket: PropTypes.object.isRequired,\r\n    themeType: PropTypes.string,\r\n    themeName: PropTypes.string,\r\n    style: PropTypes.object,\r\n    className: PropTypes.string,\r\n    data: PropTypes.object.isRequired,\r\n    attr: PropTypes.string,\r\n    schema: PropTypes.object,\r\n    onError: PropTypes.func,\r\n    onChange: PropTypes.func,\r\n};\r\n\r\nexport default GoogleDrive;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Button, TextField } from '@mui/material';\r\nimport { CloudUpload } from '@mui/icons-material';\r\n\r\nimport { I18n } from '@iobroker/adapter-react-v5';\r\nimport { ConfigGeneric } from '@iobroker/json-config';\r\n\r\nclass Onedrive extends ConfigGeneric {\r\n    renderItem() {\r\n        return <div style={{ width: '100%', margin: '0 0 1rem 0' }}>\r\n            <div style={{ width: '100%', margin: '0 0 1rem 0' }}>\r\n                <span\r\n                    hidden={this.state.onedriveUrl}\r\n                >\r\n                    <span style={{ marginRight: 4 }}>{`${I18n.t('OneDrive refresh token:')}`}</span>\r\n                    {I18n.t(\r\n                        this.state.onedriveState === 'Present' || this.props.data.onedriveAccessJson ?\r\n                            'Present' :\r\n                            'Not present',\r\n                    )}\r\n                </span>\r\n            </div>\r\n            <Button\r\n                disabled={this.state.onedriveUrl || !this.props.alive || this.state.running}\r\n                endIcon={<CloudUpload />}\r\n                variant=\"contained\"\r\n                onClick={() => this.setState({ running: true }, async () => {\r\n                    const result = await this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`, 'authOnedrive', null);\r\n                    this.setState({ onedriveUrl: result.url, running: false });\r\n                })}\r\n            >\r\n                {I18n.t(\r\n                    this.props.data.onedriveAccessJson ?\r\n                        'Renew OneDrive Access' :\r\n                        'Get OneDrive Access',\r\n                )}\r\n            </Button>\r\n            {this.state.onedriveUrl ? <>\r\n                <div style={{ width: '100%', margin: '1rem 0 1rem 0' }}>\r\n                    <span style={{ marginRight: 4 }}>{`${I18n.t('Authorize this app by visiting this url:')}`}</span>\r\n                    <br />\r\n                    <a\r\n                        target=\"_blank\"\r\n                        href={this.state.onedriveUrl}\r\n                        rel=\"noreferrer\"\r\n                    >\r\n                        {this.state.onedriveUrl}\r\n                    </a>\r\n                </div>\r\n                <TextField\r\n                    label={I18n.t('Enter the code from that page here')}\r\n                    variant=\"standard\"\r\n                    onChange={e => this.setState({ code: e.target.value })}\r\n                    fullWidth\r\n                />\r\n                <Button\r\n                    style={{ margin: '1rem 0 1rem 0' }}\r\n                    disabled={!this.state.onedriveUrl || !this.props.alive || this.state.running}\r\n                    endIcon={<CloudUpload />}\r\n                    variant=\"contained\"\r\n                    onClick={() => this.setState({ running: true }, async () => {\r\n                        const result = await this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`, 'authOnedrive', { code: this.state.code });\r\n                        this.props.onChange({ ...this.props.data, onedriveAccessJson: result.json });\r\n                        this.setState({ onedriveState: result.done ? 'Present' : 'Not present', running: false, onedriveUrl: null });\r\n                    })}\r\n                >\r\n                    {I18n.t('Submit')}\r\n                </Button>\r\n            </> : null}\r\n        </div>;\r\n    }\r\n}\r\n\r\nOnedrive.propTypes = {\r\n    socket: PropTypes.object.isRequired,\r\n    themeType: PropTypes.string,\r\n    themeName: PropTypes.string,\r\n    style: PropTypes.object,\r\n    className: PropTypes.string,\r\n    data: PropTypes.object.isRequired,\r\n    attr: PropTypes.string,\r\n    schema: PropTypes.object,\r\n    onError: PropTypes.func,\r\n    onChange: PropTypes.func,\r\n};\r\n\r\nexport default Onedrive;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Button, TextField } from '@mui/material';\r\nimport { CloudUpload } from '@mui/icons-material';\r\n\r\nimport { I18n } from '@iobroker/adapter-react-v5';\r\nimport { ConfigGeneric } from '@iobroker/json-config';\r\n\r\nclass Dropbox extends ConfigGeneric {\r\n    renderItem() {\r\n        return <div style={{ width: '100%', margin: '0 0 1rem 0' }}>\r\n            <div style={{ width: '100%', margin: '0 0 1rem 0' }}>\r\n                <span\r\n                    hidden={this.state.dropboxUrl}\r\n                >\r\n                    <span style={{ marginRight: 4 }}>{`${I18n.t('Dropbox refresh token:')}`}</span>\r\n                    {I18n.t(\r\n                        this.state.droboxState === 'Present' || this.props.data.dropboxAccessJson ?\r\n                            'Present' :\r\n                            'Not present',\r\n                    )}\r\n                </span>\r\n            </div>\r\n            <Button\r\n                disabled={this.state.dropboxUrl || !this.props.alive || this.state.running}\r\n                endIcon={<CloudUpload />}\r\n                variant=\"contained\"\r\n                onClick={() => this.setState({ running: true }, async () => {\r\n                    const result = await this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`, 'authDropbox', null);\r\n                    this.setState({ dropboxUrl: result.url, codeChallenge: result.code_challenge, running: false });\r\n                    this.props.onChange({ ...this.props.data, dropboxCodeChallenge: result.code_challenge });\r\n                })}\r\n            >\r\n                {I18n.t(\r\n                    this.props.data.dropboxAccessJson ?\r\n                        'Renew Dropbox Access' :\r\n                        'Get Dropbox Access',\r\n                )}\r\n            </Button>\r\n            {this.state.dropboxUrl ? <>\r\n                <div style={{ width: '100%', margin: '1rem 0 1rem 0' }}>\r\n                    <span style={{ marginRight: 4 }}>{`${I18n.t('Authorize this app by visiting this url:')}`}</span>\r\n                    <br />\r\n                    <a\r\n                        target=\"_blank\"\r\n                        href={`${this.state.dropboxUrl}&code_challenge=${this.state.codeChallenge}`}\r\n                        rel=\"noreferrer\"\r\n                    >\r\n                        {`${this.state.dropboxUrl}&code_challenge=${this.state.codeChallenge}`}\r\n                    </a>\r\n                </div>\r\n                <TextField\r\n                    label={I18n.t('Enter the code from that page here')}\r\n                    variant=\"standard\"\r\n                    onChange={e => this.setState({ code: e.target.value })}\r\n                    fullWidth\r\n                />\r\n                <Button\r\n                    style={{ margin: '1rem 0 1rem 0' }}\r\n                    disabled={!this.state.dropboxUrl || !this.props.alive || this.state.running}\r\n                    endIcon={<CloudUpload />}\r\n                    variant=\"contained\"\r\n                    onClick={() => this.setState({ running: true }, async () => {\r\n                        const result = await this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`, 'authDropbox', { code: this.state.code, codeChallenge: this.props.data.dropboxCodeChallenge });\r\n                        this.props.onChange({ ...this.props.data, dropboxAccessJson: result.json });\r\n                        this.setState({ dropboxState: result.done ? 'Present' : 'Not present', running: false, dropboxUrl: null });\r\n                    })}\r\n                >\r\n                    {I18n.t('Submit')}\r\n                </Button>\r\n            </> : null}\r\n        </div>;\r\n    }\r\n}\r\n\r\nDropbox.propTypes = {\r\n    socket: PropTypes.object.isRequired,\r\n    themeType: PropTypes.string,\r\n    themeName: PropTypes.string,\r\n    style: PropTypes.object,\r\n    className: PropTypes.string,\r\n    data: PropTypes.object.isRequired,\r\n    attr: PropTypes.string,\r\n    schema: PropTypes.object,\r\n    onError: PropTypes.func,\r\n    onChange: PropTypes.func,\r\n};\r\n\r\nexport default Dropbox;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport {\r\n    FormControl, FormHelperText, InputLabel,\r\n    MenuItem, Select, TextField,\r\n} from '@mui/material';\r\n\r\nimport { I18n } from '@iobroker/adapter-react-v5';\r\nimport { ConfigGeneric } from '@iobroker/json-config';\r\n\r\nimport BaseField from './BaseField';\r\n\r\nclass Instance extends BaseField {\r\n    async componentDidMount() {\r\n        super.componentDidMount();\r\n        const instance = ConfigGeneric.getValue(this.props.data, this.props.attr);\r\n        const target = ConfigGeneric.getValue(this.props.data, this.props.schema.adapter === 'telegram' ? 'telegramUser' : 'discordTarget');\r\n        const result = Object.values(await this.props.socket.getObjectViewCustom(\r\n            'system',\r\n            'instance',\r\n            `system.adapter.${this.props.schema.adapter}.`,\r\n            `system.adapter.${this.props.schema.adapter}.\\u9999`,\r\n        ));\r\n\r\n        const instances = result.map(item => ({ value: item._id.substring('system.adapter.'.length), label: item._id.substring('system.adapter.'.length) }));\r\n        instances.unshift({ value: '_', label: 'none' });\r\n\r\n        this.setState({ instances, instance, target }, () => {\r\n            this.readTargets();\r\n        });\r\n    }\r\n\r\n    async fillTelegramUser() {\r\n        if (this.state.instance?.startsWith('telegram.')) {\r\n            if (this.instanceRead !== this.state.instance) {\r\n                let useUserName = false;\r\n                const obj = await this.props.socket.getObject(`system.adapter.${this.state.instance}`);\r\n                if (obj && obj.native) {\r\n                    useUserName = obj.native.useUsername;\r\n                }\r\n                const state = await this.props.socket.getState(`${this.state.instance}.communicate.users`);\r\n                const userListStr = state?.val;\r\n                const targets = [{ value: 'allTelegramUsers', label: 'All Receiver' }];\r\n\r\n                if (userListStr) {\r\n                    this.instanceRead = this.state.target;\r\n                    const userList = JSON.parse(userListStr);\r\n                    for (const i in userList) {\r\n                        if (useUserName) {\r\n                            targets.push({ value: userList[i].userName, label: userList[i].userName });\r\n                        } else {\r\n                            targets.push({ value: userList[i].firstName, label: userList[i].firstName });\r\n                        }\r\n                    }\r\n                }\r\n                this.setState({ targets });\r\n            }\r\n        } else if (this.props.data.telegramUser !== 'allTelegramUsers') {\r\n            setTimeout(() => this.props.onChange({ ...this.props.data, telegramUser: 'allTelegramUsers' }), 50);\r\n        }\r\n    }\r\n\r\n    async fillDiscordTarget() {\r\n        if (this.state.instance?.startsWith('discord.')) {\r\n            if (this.instanceRead !== this.state.instance) {\r\n                const alive = await this.props.socket.getState(`system.adapter.${this.state.instance}.alive`);\r\n                if (alive?.val) {\r\n                    const targetList = await this.props.socket.sendTo(this.state.instance, 'getNotificationTargets', {});\r\n                    if (Array.isArray(targetList)) {\r\n                        this.instanceRead = this.state.instance;\r\n                        const targets = [{ value: '_', label: 'none' }];\r\n                        for (const i in targetList) {\r\n                            targets.push({ value: targetList[i].value, label: targetList[i].label });\r\n                        }\r\n                        this.setState({ targets });\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            const targets = [{ value: '_', label: 'none' }];\r\n            this.setState({ targets });\r\n            if (this.props.data.discordTarget) {\r\n                setTimeout(() => this.props.onChange({ ...this.props.data, discordTarget: '' }), 50);\r\n            }\r\n        }\r\n    }\r\n\r\n    async readTargets() {\r\n        if (this.props.schema.adapter === 'telegram') {\r\n            await this.fillTelegramUser();\r\n        } else if (this.props.schema.adapter === 'discord') {\r\n            await this.fillDiscordTarget();\r\n        }\r\n    }\r\n\r\n    renderItem() {\r\n        const itemInstance = this.state.instances?.find(it => it.value === (this.state.instance || ''));\r\n        const itemTarget = this.state.targets?.find(it => it.value === (this.state.target || ''));\r\n\r\n        return <div\r\n            style={{\r\n                display: 'grid',\r\n                gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))',\r\n                gap: 12,\r\n                justifyContent: 'space-evenly',\r\n                alignContent: 'center',\r\n                justifyItems: 'stretch',\r\n                gridAutoRows: '1fr',\r\n            }}\r\n        >\r\n            {this.state.instances ? <FormControl style={{ width: '100%', marginRight: 10 }} variant=\"standard\">\r\n                <InputLabel>{I18n.t(this.props.schema.label)}</InputLabel>\r\n                <Select\r\n                    variant=\"standard\"\r\n                    value={this.state.instance || '_'}\r\n                    renderValue={() => this.getText(itemInstance?.label, itemInstance?.label !== 'none')}\r\n                    onChange={e => this.setState({ instance: e.target.value === '_' ? '' : e.target.value }, () => {\r\n                        this.readTargets();\r\n                        this.onChange(this.props.attr, this.state.instance);\r\n                    })}\r\n                >\r\n                    {this.state.instances.map((it, i) => <MenuItem key={i} value={it.value}>\r\n                        {this.getText(it.label, it?.label !== 'none')}\r\n                    </MenuItem>)}\r\n                </Select>\r\n                {this.props.schema.help ? <FormHelperText>{this.renderHelp(this.props.schema.help, this.props.schema.helpLink, this.props.schema.noTranslation)}</FormHelperText> : null}\r\n            </FormControl> : null}\r\n\r\n            {this.state.targets && (this.props.schema.adapter === 'telegram' || this.props.schema.adapter === 'discord') ? <FormControl variant=\"standard\">\r\n                <InputLabel>{I18n.t(this.props.schema.adapter === 'telegram' ? 'Telegram receiver' : 'Discord receiver')}</InputLabel>\r\n                <Select\r\n                    disabled={!this.state.instance}\r\n                    variant=\"standard\"\r\n                    value={this.state.target || '_'}\r\n                    renderValue={() => this.getText(itemTarget?.label, itemTarget?.label !== 'none')}\r\n                    onChange={e => this.setState({ target: e.target.value === '_' ? '' : e.target.value }, () =>\r\n                        this.onChange(this.props.schema.adapter === 'telegram' ? 'telegramUser' : 'discordTarget', this.state.target))}\r\n                >\r\n                    {this.state.targets.map((it, i) => <MenuItem key={i} value={it.value}>\r\n                        {this.getText(it.label, it?.label !== 'none')}\r\n                    </MenuItem>)}\r\n                </Select>\r\n                {this.props.schema.help ? <FormHelperText>{this.renderHelp(this.props.schema.help, this.props.schema.helpLink, this.props.schema.noTranslation)}</FormHelperText> : null}\r\n            </FormControl> : this.props.schema.adapter === 'telegram' || this.props.schema.adapter === 'discord' ? <TextField\r\n                variant=\"standard\"\r\n                disabled={!this.state.instance}\r\n                label={I18n.t(this.props.schema.adapter === 'telegram' ? 'Telegram receiver' : 'Discord receiver')}\r\n                value={this.state.target}\r\n                onChange={e => this.setState({ target: e.target.value }, () =>\r\n                    this.onChange(this.props.schema.adapter === 'telegram' ? 'telegramUser' : 'discordTarget', this.state.target))}\r\n            /> : null}\r\n        </div>;\r\n    }\r\n}\r\n\r\nInstance.propTypes = {\r\n    socket: PropTypes.object.isRequired,\r\n    themeType: PropTypes.string,\r\n    themeName: PropTypes.string,\r\n    style: PropTypes.object,\r\n    className: PropTypes.string,\r\n    data: PropTypes.object.isRequired,\r\n    attr: PropTypes.string,\r\n    schema: PropTypes.object,\r\n    onError: PropTypes.func,\r\n    onChange: PropTypes.func,\r\n};\r\n\r\nexport default Instance;\r\n","import { useEffect, useState } from 'react';\nimport { saveAs } from 'file-saver';\nimport {\n    Accordion,\n    AccordionDetails,\n    AccordionSummary,\n    Dialog,\n    DialogContent,\n    DialogTitle,\n    Fab,\n    Table,\n    TableCell,\n    TableRow,\n    Tooltip,\n    DialogActions,\n    Button,\n    LinearProgress,\n    TableBody,\n    useMediaQuery,\n} from '@mui/material';\nimport { Close, Download, History, ExpandMore, Save } from '@mui/icons-material';\n\nimport { FaDropbox, FaNetworkWired, FaGoogleDrive } from 'react-icons/fa';\nimport { DiOnedrive, DiRedis, DiMysql, DiPostgresql, DiSqllite } from 'react-icons/di';\nimport { SiNodered, SiEsphome, SiZigbee, SiGrafana, SiInfluxdb, SiNextcloud } from 'react-icons/si';\nimport { I18n } from '@iobroker/adapter-react-v5';\n\nimport CCU from '../assets/ccu.png';\nimport ioBrokerIcon from '../assets/iobroker.png';\nimport historyIcon from '../assets/history.png';\nimport zigbee2mqttIcon from '../assets/zigbee2mqtt.png';\nimport javascriptIcon from '../assets/javascript.png';\nimport jarvisIcon from '../assets/jarvis.png';\nimport yahkaIcon from '../assets/yahka.png';\n\nfunction parseSize(bytes) {\n    if (bytes > 1024 * 1024 * 512) {\n        return `${Math.round((bytes / (1024 * 1024 * 1024)) * 10) / 10}${I18n.t('GiB')}`;\n    }\n    if (bytes > 1024 * 1024) {\n        return `${Math.round((bytes / (1024 * 1024)) * 10) / 10}${I18n.t('MiB')}`;\n    }\n    if (bytes > 1024) {\n        return `${Math.round((bytes / 1024) * 10) / 10}${I18n.t('KiB')}`;\n    }\n    return `${bytes} ${I18n.t('bytes')}`;\n}\nfunction parseName(name) {\n    const parts = name.split('_');\n    if (parseInt(parts[0], 10).toString() !== parts[0]) {\n        parts.shift();\n    }\n    return new Date(\n        parts[0],\n        parseInt(parts[1], 10) - 1,\n        parseInt(parts[2].split('-')[0], 10),\n        parseInt(parts[2].split('-')[1], 10),\n        parseInt(parts[3], 10),\n    )\n        .toLocaleString()\n        .replace(/:00$/, '');\n}\n\nconst ICONS = {\n    local: Save,\n    cifs: FaNetworkWired,\n    dropbox: FaDropbox,\n    ftp: FaNetworkWired,\n    googledrive: FaGoogleDrive,\n    onedrive: DiOnedrive,\n    webdav: SiNextcloud,\n    iobroker: ioBrokerIcon,\n    historyDB: historyIcon,\n    ccu: CCU,\n    javascripts: javascriptIcon,\n    nodered: SiNodered,\n    influxDB: SiInfluxdb,\n    zigbee: SiZigbee,\n    zigbee2mqtt: zigbee2mqttIcon,\n    grafana: SiGrafana,\n    esphome: SiEsphome,\n    jarvis: jarvisIcon,\n    redis: DiRedis,\n    mysql: DiMysql,\n    sqlite: DiSqllite,\n    pgsql: DiPostgresql,\n    yahka: yahkaIcon,\n};\n\nfunction getIcon(type) {\n    if (!ICONS[type]) {\n        return null;\n    }\n    if (typeof ICONS[type] === 'object' || typeof ICONS[type] === 'function') {\n        const OwnIcon = ICONS[type];\n        return <OwnIcon style={{ width: 24, height: 24, marginRight: 8 }} />;\n    }\n    return (\n        <img\n            src={ICONS[type]}\n            style={{ width: 24, height: 24, marginRight: 8 }}\n            alt={type}\n        />\n    );\n}\n\nfunction getLabelByValue(value, connectType) {\n    const STORAGENAME = [\n        { label: 'Local', value: 'local' },\n        { label: `NAS${connectType ? ` (${connectType})` : ''}`, value: 'nas / copy' },\n        { label: 'FTP', value: 'ftp' },\n        { label: 'Dropbox', value: 'dropbox' },\n        { label: 'OneDrive', value: 'onedrive' },\n        { label: 'Google Drive', value: 'googledrive' },\n        { label: 'WebDAV', value: 'webdav' },\n    ];\n\n    const option = STORAGENAME.find(_option => _option.value === value);\n    return option ? option.label : value;\n}\n\nconst GetBackups = props => {\n    const fullScreen = useMediaQuery(props.themeBreakpoints('sm'));\n    const [backups, setBackups] = useState(null);\n    const [expanded, setExpanded] = useState([]);\n\n    useEffect(() => {\n        let _expanded = window.localStorage.getItem('BackupExpanded');\n        try {\n            _expanded = JSON.parse(_expanded);\n        } catch {\n            _expanded = [];\n        }\n        setExpanded(_expanded || []);\n        setBackups(null);\n        props.socket.sendTo(`${props.adapterName}.${props.instance}`, 'list', props.backupSource).then(result => {\n            Object.keys(result.data).forEach(location =>\n                Object.keys(result.data[location]).forEach(object =>\n                    result.data[location][object].sort((a, b) =>\n                        a.name.replace(/^iobroker_/, '') > b.name.replace(/^iobroker_/, '') ? -1 : 1,\n                    ),\n                ),\n            );\n\n            setBackups(result);\n        });\n    }, []);\n\n    return (\n        <Dialog\n            open={!0}\n            onClose={props.onClose}\n            fullWidth\n            fullScreen={fullScreen}\n            maxWidth=\"lg\"\n        >\n            <DialogTitle>{I18n.t('Backup history')}</DialogTitle>\n            <span\n                style={{\n                    fontWeight: 400,\n                    fontSize: 16,\n                    padding: '0px 24px',\n                    flex: '0 0 auto',\n                }}\n            >\n                {I18n.t('Please select a backup from the list!').toUpperCase()}\n            </span>\n            <DialogContent>\n                {backups ? (\n                    Object.keys(backups.data).map(location => (\n                        <Accordion\n                            key={location}\n                            expanded={expanded.includes(location)}\n                            onChange={() => {\n                                const _expanded = [...expanded];\n                                const pos = _expanded.indexOf(location);\n                                if (pos === -1) {\n                                    _expanded.push(location);\n                                    _expanded.sort();\n                                } else {\n                                    _expanded.splice(pos, 1);\n                                }\n                                window.localStorage.setItem('BackupExpanded', JSON.stringify(_expanded));\n                                setExpanded(_expanded);\n                            }}\n                            style={{\n                                backgroundColor: props.themeType\n                                    ? 'rgba(10, 10, 10, 0.05)'\n                                    : 'rgba(250, 250, 250, 0.05)',\n                            }}\n                        >\n                            <AccordionSummary expandIcon={<ExpandMore />}>\n                                {getIcon(location)}\n                                <span style={{ fontWeight: 'bold', fontSize: 16 }}>\n                                    {I18n.t(getLabelByValue(location, props.connectType)).toUpperCase()}\n                                </span>\n                            </AccordionSummary>\n                            <AccordionDetails>\n                                {Object.keys(backups.data[location]).map(object => (\n                                    <Accordion\n                                        key={object}\n                                        expanded={expanded.includes(object)}\n                                        onChange={() => {\n                                            const _expanded = [...expanded];\n                                            const pos = _expanded.indexOf(object);\n                                            if (pos === -1) {\n                                                _expanded.push(object);\n                                                _expanded.sort();\n                                            } else {\n                                                _expanded.splice(pos, 1);\n                                            }\n                                            window.localStorage.setItem('BackupExpanded', JSON.stringify(_expanded));\n                                            setExpanded(_expanded);\n                                        }}\n                                    >\n                                        <AccordionSummary expandIcon={<ExpandMore />}>\n                                            {getIcon(object.split('.').shift())}\n                                            <span style={{ fontWeight: 'bold', fontSize: 14 }}>\n                                                {I18n.t(object).toUpperCase()}\n                                            </span>\n                                        </AccordionSummary>\n                                        <AccordionDetails>\n                                            <Table size=\"small\">\n                                                <TableBody>\n                                                    {backups.data[location][object].map((backup, index) => (\n                                                        <TableRow\n                                                            key={index}\n                                                            style={{\n                                                                display: 'flex',\n                                                                flexDirection: fullScreen ? 'column' : 'row',\n                                                            }}\n                                                        >\n                                                            <TableCell\n                                                                style={{\n                                                                    width: fullScreen ? '100%' : 220,\n                                                                    whiteSpace: 'nowrap',\n                                                                    padding: fullScreen ? '6px 0' : '16px 16px',\n                                                                }}\n                                                            >\n                                                                {I18n.t('Backup time')}:\n                                                                <span style={{ marginLeft: 8 }}>\n                                                                    {parseName(backup.name)}\n                                                                </span>\n                                                            </TableCell>\n                                                            <TableCell\n                                                                style={{\n                                                                    width: fullScreen ? '100%' : 'calc(100% - 320px)',\n                                                                    whiteSpace: 'nowrap',\n                                                                    padding: fullScreen ? '6px 0' : '16px 16px',\n                                                                }}\n                                                            >\n                                                                {I18n.t('File size')}:\n                                                                <span style={{ marginLeft: 8 }}>\n                                                                    {parseSize(backup.size)}\n                                                                </span>\n                                                            </TableCell>\n                                                            <TableCell\n                                                                style={{\n                                                                    width: fullScreen ? '100%' : 88,\n                                                                    borderBottom: fullScreen\n                                                                        ? '1px outset rgb(224, 224, 224)'\n                                                                        : '1px solid rgb(224, 224, 224)',\n                                                                    padding: '6px 0',\n                                                                }}\n                                                            >\n                                                                <div\n                                                                    style={{\n                                                                        display: 'flex',\n                                                                        gap: 8,\n                                                                        justifyContent: fullScreen\n                                                                            ? 'center'\n                                                                            : 'normal',\n                                                                    }}\n                                                                >\n                                                                    {props.allowDownload ? (\n                                                                        <Tooltip title={I18n.t('Download Backup File')}>\n                                                                            <Fab\n                                                                                size=\"small\"\n                                                                                color={\n                                                                                    props.themeType === 'dark'\n                                                                                        ? 'primary'\n                                                                                        : 'grey'\n                                                                                }\n                                                                                onClick={async () => {\n                                                                                    const data =\n                                                                                        await props.socket.sendTo(\n                                                                                            `${props.adapterName}.${props.instance}`,\n                                                                                            'getFile',\n                                                                                            {\n                                                                                                type: location,\n                                                                                                fileName: backup.path,\n                                                                                                protocol:\n                                                                                                    window.location\n                                                                                                        .protocol,\n                                                                                            },\n                                                                                        );\n                                                                                    const url = `${window.location.protocol}//${window.location.hostname}:${data.listenPort}/${data.fileName ? data.fileName : backup.path.split(/[\\\\/]/).pop()}`;\n                                                                                    saveAs(url);\n                                                                                }}\n                                                                            >\n                                                                                <Download />\n                                                                            </Fab>\n                                                                        </Tooltip>\n                                                                    ) : null}\n                                                                    <Tooltip title={I18n.t('Restore Backup File')}>\n                                                                        <Fab\n                                                                            size=\"small\"\n                                                                            color={\n                                                                                props.themeType === 'dark'\n                                                                                    ? 'primary'\n                                                                                    : 'grey'\n                                                                            }\n                                                                            onClick={() =>\n                                                                                props.onRestore(\n                                                                                    location,\n                                                                                    object,\n                                                                                    backup.path,\n                                                                                )\n                                                                            }\n                                                                        >\n                                                                            <History />\n                                                                        </Fab>\n                                                                    </Tooltip>\n                                                                </div>\n                                                            </TableCell>\n                                                        </TableRow>\n                                                    ))}\n                                                </TableBody>\n                                            </Table>\n                                        </AccordionDetails>\n                                    </Accordion>\n                                ))}\n                            </AccordionDetails>\n                        </Accordion>\n                    ))\n                ) : (\n                    <LinearProgress />\n                )}\n            </DialogContent>\n            <DialogActions>\n                <Button\n                    onClick={props.onClose}\n                    startIcon={<Close />}\n                    variant=\"contained\"\n                    color=\"primary\"\n                >\n                    {I18n.t('Close')}\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n};\n\nexport default GetBackups;\n","import React, { Component } from 'react';\r\nimport {\r\n    FormControl, InputLabel, MenuItem, Select,\r\n} from '@mui/material';\r\n\r\nimport { I18n } from '@iobroker/adapter-react-v5';\r\n\r\nexport default class SourceSelector extends Component {\r\n    render() {\r\n        const options = [\r\n            { label: 'Local', value: 'local' },\r\n            { name: 'cifsEnabled', label: `NAS${this.props.data?.connectType ? ` (${this.props.data.connectType})` : ''}`, value: 'cifs' },\r\n            { name: 'ftpEnabled', label: 'FTP', value: 'ftp' },\r\n            { name: 'dropboxEnabled', label: 'Dropbox', value: 'dropbox' },\r\n            { name: 'onedriveEnabled', label: 'OneDrive', value: 'onedrive' },\r\n            { name: 'googledriveEnabled', label: 'Google Drive', value: 'googledrive' },\r\n            { name: 'webdavEnabled', label: 'WebDAV', value: 'webdav' },\r\n        ];\r\n\r\n        return <FormControl\r\n            classes={this.props.className}\r\n            fullWidth\r\n            variant=\"standard\"\r\n            style={{\r\n                height: 32,\r\n                // maxWidth: 250,\r\n                ...(this.props.style || {}),\r\n            }}\r\n        >\r\n            <InputLabel>{I18n.t('Source type')}</InputLabel>\r\n            <Select\r\n                variant=\"standard\"\r\n                value={this.props.value || 'local'}\r\n                onChange={e => this.props.onChange(e.target.value)}\r\n            >\r\n                {options.map(option =>\r\n                    (!option.name || !this.props.data || this.props.data[option.name] ? <MenuItem key={option.value} value={option.value}>\r\n                        {I18n.t(option.label)}\r\n                    </MenuItem> : null))}\r\n            </Select>\r\n        </FormControl>;\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport {\r\n    Button, Checkbox, Dialog, DialogActions, DialogContent,\r\n    DialogTitle, FormControlLabel, LinearProgress,\r\n} from '@mui/material';\r\n\r\nimport { Close, SettingsBackupRestore } from '@mui/icons-material';\r\n\r\nimport { I18n, Message } from '@iobroker/adapter-react-v5';\r\n\r\nconst styles = {\r\n    paper: {\r\n        height: 'calc(100% - 64px)',\r\n    },\r\n    textTime: {\r\n        display: 'inline-block',\r\n        width: 95,\r\n    },\r\n    responseTextTime: {\r\n        display: 'inline-block',\r\n        width: 70,\r\n    },\r\n    textLevel: {\r\n        display: 'inline-block',\r\n        width: 50,\r\n    },\r\n    'textLevel-ERROR': {\r\n        color: 'red',\r\n    },\r\n    'textLevel-WARN': {\r\n        color: 'orange',\r\n    },\r\n    'textLevel-INFO': {\r\n        color: '#00b204',\r\n    },\r\n    textSource: {\r\n        display: 'inline-block',\r\n        width: 100,\r\n        textAlign: 'left',\r\n    },\r\n    text: {\r\n        display: 'inline-block',\r\n    },\r\n    responseText: {\r\n        display: 'inline-block',\r\n        wordWrap: 'break-word',\r\n    },\r\n    textLine: {\r\n        whiteSpace: 'nowrap',\r\n    },\r\n    responseTextLine: {\r\n        whiteSpace: 'normal',\r\n    },\r\n    dialogContent: {\r\n        position: 'relative',\r\n        padding: 16,\r\n    },\r\n    logContainer: {\r\n        fontSize: 12,\r\n        fontFamily: 'monospace',\r\n        padding: 8,\r\n        border: '1px solid grey',\r\n        borderRadius: 5,\r\n        overflow: 'auto',\r\n        boxSizing: 'border-box',\r\n        height: 'calc(100% - 16px - 4px)',\r\n        width: 'calc(100% - 16px)',\r\n    },\r\n    responseLogContainer: {\r\n        position: 'relative',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        gap: 15,\r\n    },\r\n    dialogActions: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'stretch',\r\n    },\r\n};\r\n\r\nclass Restore extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        const WITH_DOWNLOAD = [\r\n            'dropbox',\r\n            'onedrive',\r\n            'googledrive',\r\n            'ftp',\r\n            'webdav',\r\n        ];\r\n        const NO_RESTART = [\r\n            'grafana',\r\n            'jarvis',\r\n            'javascripts',\r\n            'mysql',\r\n            'sqlite',\r\n            'influxDB',\r\n            'pgsql',\r\n            'zigbee',\r\n            'esphome',\r\n            'zigbee2mqtt',\r\n            'nodered',\r\n            'yahka',\r\n            'historyDB',\r\n        ];\r\n        let isStopped = false;\r\n        const messages = [];\r\n        if (!NO_RESTART.find(text => this.props.fileName.includes(text))) {\r\n            isStopped = true;\r\n\r\n            if (WITH_DOWNLOAD.includes(this.props.location)) {\r\n                messages[0] = { text: I18n.t('Confirm with \"Restore\" and the download begins. Please wait until the download is finished!'), number: true };\r\n                messages[1] = { text: I18n.t('After download ioBroker will be restarted during restore.'), number: true };\r\n            } else {\r\n                messages[0] = { text: I18n.t('ioBroker will be restarted during restore.'), number: false };\r\n            }\r\n\r\n            messages.push({ text: I18n.t('After confirmation, a new tab opens with the Restore Log.'), number: false });\r\n            messages.push({ text: I18n.t('If the tab does not open, please deactivate your popup blocker.'), number: false });\r\n        } else {\r\n            messages[0] = { text: I18n.t('ioBroker will not be restarted for this restore type.'), number: false };\r\n            messages[1] = { text: I18n.t('Confirm with \"Restore\".'), number: false };\r\n        }\r\n\r\n        this.state = {\r\n            done: false,\r\n            executing: false,\r\n            executionLog: [],\r\n            closeOnReady: false,\r\n            isStopped,\r\n            isFullScreen: false,\r\n            messages,\r\n            showRestoreDialog: false,\r\n            restoreProcess: {\r\n                done: false,\r\n                log: [],\r\n                startFinish: '',   // [Restore], [Restart], [Finish], [Starting]\r\n                restoreStatus: '', // '', 'Restore completed successfully!! Starting iobroker... Please wait!, Restore was canceled!! If ioBroker does not start automatically, please start it manually'\r\n                statusColor: '',   // '', '#00b204', '#c62828'\r\n            },\r\n        };\r\n        this.lastExecutionLine = '';\r\n        this.textRef = React.createRef();\r\n        this.textRefRestore = React.createRef();\r\n        this.retries = 0;\r\n    }\r\n\r\n    async pollStatus() {\r\n        if (!this.state.showRestoreDialog) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            await fetch(`${window.location.protocol}//${window.location.hostname}:8091/status.json`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    const restoreProcess = JSON.parse(JSON.stringify(this.state.restoreProcess));\r\n                    if (typeof data.logWebIF === 'string') {\r\n                        restoreProcess.log = data.logWebIF.split('\\n');\r\n                    }\r\n                    restoreProcess.startFinish = data.startFinish;\r\n                    restoreProcess.restoreStatus = data.restoreStatus ? I18n.t(data.restoreStatus) : '';\r\n                    restoreProcess.statusColor = data.statusColor;\r\n                    if (restoreProcess.startFinish === '[Finish]') {\r\n                        clearInterval(this.polling);\r\n                        this.polling = null;\r\n                        restoreProcess.done = true;\r\n                    }\r\n\r\n                    // scroll down\r\n                    if (this.textRefRestore.current && this.textRefRestore.current.scrollTop + this.textRefRestore.current.clientHeight >= this.textRefRestore.current.scrollHeight) {\r\n                        setTimeout(() => this.textRefRestore.current && (this.textRefRestore.current.scrollTop = this.textRefRestore.current.scrollHeight), 100);\r\n                    }\r\n\r\n                    this.setState({ restoreProcess });\r\n                })\r\n                .catch(e => {\r\n                    this.retries++;\r\n                    if (this.retries > 15) {\r\n                        console.warn(`Cannot get _status: ${e}`);\r\n                        clearInterval(this.polling);\r\n                        this.polling = null;\r\n                        this.setState({\r\n                            restoreProcess: {\r\n                                done: true,\r\n                                log: [],\r\n                                startFinish: '[Finish]', // [Restore], [Restart], [Finish], [Starting]\r\n                                restoreStatus: I18n.t('Cannot get status'),\r\n                                statusColor: '#c62828',   // '', '#00b204', '#c62828'\r\n                            },\r\n                        });\r\n                    }\r\n                });\r\n        } catch (e) {\r\n            console.warn(`Cannot get status: ${e}`);\r\n            this.retries++;\r\n            if (this.retries > 15) {\r\n                clearInterval(this.polling);\r\n                this.polling = null;\r\n                this.setState({\r\n                    restoreProcess: {\r\n                        done: true,\r\n                        log: [],\r\n                        startFinish: '[Finish]',   // [Restart], [Finish], [Restore], [Starting]\r\n                        restoreStatus: I18n.t('Cannot get status'), // '', 'Restore completed successfully!! Starting iobroker... Please wait!' ,\r\n                        // 'Restore was canceled!! If ioBroker does not start automatically, please start it manually' ,\r\n                        statusColor: '#c62828',   // '', '#00b204', '#c62828'\r\n                    },\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    startPolling() {\r\n        this.setState({\r\n            showRestoreDialog: true,\r\n            restoreProcess: {\r\n                log: [],\r\n                done: false,\r\n                startFinish: '[Starting]',   // [Restart], [Finish], [Restore], [Starting]\r\n                restoreStatus: '', // '', 'Restore completed successfully!! Starting iobroker... Please wait!' ,\r\n                // 'Restore was canceled!! If ioBroker does not start automatically, please start it manually' ,\r\n                statusColor: '',   // '', '#00b204', '#c62828'\r\n            },\r\n        });\r\n\r\n        this.retries = 0;\r\n        this.polling = setInterval(() => this.pollStatus(), 1000);\r\n    }\r\n\r\n    static getTime() {\r\n        const date = new Date();\r\n        return `${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}:${date.getSeconds().toString().padStart(2, '0')}.${date.getMilliseconds().toString().padStart(3, '0')}`;\r\n    }\r\n\r\n    onOutput = (id, state) => {\r\n        if (state && state.val && state.val !== this.lastExecutionLine) {\r\n            this.lastExecutionLine = state.val;\r\n            const executionLog = [...this.state.executionLog];\r\n            const lines = (state.val || '').toString().replace(/\\n$/, '').split('\\n');\r\n            const now = Restore.getTime();\r\n            lines.forEach(line => {\r\n                line = line.trim();\r\n                if (!line) {\r\n                    // return;\r\n                }\r\n                const parts = line.match(/^\\[(\\w+)] \\[(\\w+)] - (.*)/);\r\n                if (parts) {\r\n                    executionLog.push({\r\n                        level: parts[1],\r\n                        source: parts[2],\r\n                        ts: now,\r\n                        text: parts[3],\r\n                    });\r\n                } else if (state.val.startsWith('[EXIT]')) {\r\n                    const code = state.val.match(/^\\[EXIT] ([-\\d]+)/);\r\n                    executionLog.push({\r\n                        level: code[1] === '0' ? 'INFO' : 'ERROR',\r\n                        source: 'gui',\r\n                        ts: now,\r\n                        text: code[1] === '0' ? I18n.t('Restore completed successfully!') : I18n.t('Restore was canceled!'),\r\n                    });\r\n                } else {\r\n                    executionLog.push({ text: line });\r\n                }\r\n            });\r\n\r\n            // scroll down\r\n            if (this.textRef.current && this.textRef.current.scrollTop + this.textRef.current.clientHeight >= this.textRef.current.scrollHeight) {\r\n                setTimeout(() => this.textRef.current.scrollTop = this.textRef.current.scrollHeight, 100);\r\n            }\r\n\r\n            this.setState({ executionLog });\r\n\r\n            if (state.val.startsWith('[EXIT]')) {\r\n                this.setState({ executing: false });\r\n                const code = state.val.match(/^\\[EXIT] ([-\\d]+)/);\r\n                if (this.state.closeOnReady && (!code || code[1] === '0')) {\r\n                    this.closeTimeout = this.closeTimeout || setTimeout(() => {\r\n                        this.closeTimeout = null;\r\n                        this.props.onClose();\r\n                    }, 1500);\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    async componentDidMount() {\r\n        await this.props.socket.subscribeState(`${this.props.adapterName}.${this.props.instance}.output.line`, this.onOutput);\r\n        this.updateFullScreenMode();\r\n        window.addEventListener('resize', this.updateFullScreenMode);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.socket.unsubscribeState(`${this.props.adapterName}.${this.props.instance}.output.line`, this.onOutput);\r\n        this.closeTimeout && clearTimeout(this.closeTimeout);\r\n        this.closeTimeout = null;\r\n        window.removeEventListener('resize', this.updateFullScreenMode);\r\n    }\r\n\r\n    updateFullScreenMode = () => {\r\n        const isFullScreen = window.matchMedia('(max-width: 600px)').matches;\r\n        this.setState({ isFullScreen });\r\n    };\r\n\r\n    static renderLine(line, i, isFullScreen) {\r\n        return <div key={i} style={{ ...isFullScreen ? styles.responseTextLine : styles.textLine }}>\r\n            <div style={{ ...styles.textTime, ...(line.level ? (styles[`textLevel-${line.level}`] || {}) : {}) }}>{line.ts}</div>\r\n            <div style={{ ...styles.textLevel, ...(line.level ? (styles[`textLevel-${line.level}`] || {}) : {}) }}>{line.level}</div>\r\n            <div style={{ ...styles.textSource, ...(line.level ? (styles[`textLevel-${line.level}`] || {}) : {}) }}>{line.source}</div>\r\n            <div style={{ ...(isFullScreen ? styles.responseText : styles.text), ...(line.level ? (styles[`textLevel-${line.level}`] || {}) : {}) }}>{line.text}</div>\r\n        </div>;\r\n    }\r\n\r\n    static renderRestoreLine(line, i, isFullScreen) {\r\n        return <div key={i} style={{ ...isFullScreen ? styles.responseTextLine : styles.textLine }}>\r\n            {!line.includes('Restore completed successfully!!') ?\r\n                <div style={{ ...(isFullScreen ? styles.responseText : styles.text), color: line.startsWith('[ERROR]') ? '#FF0000' : line.includes('Restore completed successfully') ? '#00b204' : undefined }}>{line}</div> :\r\n                <div\r\n                    style={{\r\n                        ...(isFullScreen ? styles.responseText : styles.text),\r\n                        color: line.includes('Restore completed successfully!!') ? '#00b204' : undefined,\r\n                    }}\r\n                >\r\n                    {I18n.t('After the restart, all adapters are installed. Please be patient.\\nDepending on the system, it may take some time until all adapters are available again.')}\r\n                </div>}\r\n        </div>;\r\n    }\r\n\r\n    renderRestoreDialog() {\r\n        if (!this.state.showRestoreDialog) {\r\n            return null;\r\n        }\r\n        return <Dialog\r\n            open={!0}\r\n            onClose={() => { this.state.restoreProcess.done && this.setState({ showRestoreDialog: false }); }}\r\n            maxWidth=\"lg\"\r\n            fullWidth\r\n            fullScreen={this.state.isFullScreen}\r\n            sx={{ '& .MuiDialog-paper': styles.paper }}\r\n        >\r\n            <DialogTitle\r\n                style={{ color: this.state.restoreProcess.statusColor }}\r\n            >\r\n                <SettingsBackupRestore style={{ width: 24, height: 24, margin: '0 10px -4px 0' }} />\r\n                {I18n.t(this.state.restoreProcess.startFinish)}\r\n                {this.state.restoreProcess.restoreStatus ? <span style={{ marginLeft: 10, marginRight: 10 }}>-</span> : null}\r\n                {I18n.t(this.state.restoreProcess.restoreStatus) || '...'}\r\n            </DialogTitle>\r\n            <DialogContent style={styles.dialogContent}>\r\n                {!this.state.restoreProcess.done ?\r\n                    <LinearProgress\r\n                        style={{\r\n                            position: 'absolute',\r\n                            top: 0,\r\n                            left: 24,\r\n                            width: 'calc(100% - 64px)',\r\n                        }}\r\n                    /> : <div style={{ height: 4, width: 'calc(100% - 64px)' }} />}\r\n                <div\r\n                    style={{\r\n                        ...styles.logContainer,\r\n                        ...(this.state.isFullScreen ? styles.responseLogContainer : undefined),\r\n                        backgroundColor: this.props.themeType === 'dark' ? '#111' : '#EEE',\r\n                    }}\r\n                    ref={this.textRefRestore}\r\n                >\r\n                    {this.state.restoreProcess.log.map((line, i) => Restore.renderRestoreLine(line, i, this.state.isFullScreen))}\r\n                </div>\r\n            </DialogContent>\r\n            <DialogActions style={{ ...(this.state.isFullScreen ? styles.dialogActions : undefined) }}>\r\n                <Button\r\n                    disabled={!this.state.restoreProcess.done}\r\n                    variant=\"contained\"\r\n                    onClick={() => {\r\n                        this.props.onClose();\r\n                        this.setState({ showRestoreDialog: false });\r\n                        // maybe to reload here, as the version of admin could change\r\n                    }}\r\n                    startIcon={<Close />}\r\n                    color={this.props.themeType === 'dark' ? 'primary' : 'grey'}\r\n                >\r\n                    {I18n.t('Close')}\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>;\r\n    }\r\n\r\n    doRestore() {\r\n        this.setState({\r\n            executing: true,\r\n            done: false,\r\n        }, async () => {\r\n            try {\r\n                const result = await this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`, 'restore', {\r\n                    type: this.props.location,\r\n                    fileName: this.props.fileName,\r\n                    currentTheme: this.props.themeType === 'dark' ? 'react-dark' : 'none',\r\n                    currentProtocol: window.location.protocol,\r\n                    stopIOB: this.state.isStopped,\r\n                });\r\n                if (!result || result.error) {\r\n                    this.setState({ error: JSON.stringify(result.error), executing: false });\r\n                } else if (this.state.isStopped) {\r\n                    setTimeout(() => this.startPolling(), this.props.restoreIfWait || 5000);\r\n                } else {\r\n                    this.setState({ done: true, executing: false });\r\n                }\r\n            } catch (error) {\r\n                this.setState({ error: error.toString(), executing: false });\r\n            }\r\n        });\r\n    }\r\n\r\n    renderError() {\r\n        if (!this.state.error) {\r\n            return null;\r\n        }\r\n        return <Message\r\n            text={this.state.error}\r\n            title={I18n.t('Error')}\r\n            onClose={() => this.setState({ error: '' })}\r\n        />;\r\n    }\r\n\r\n    render() {\r\n        return <Dialog\r\n            open={!0}\r\n            onClose={() => !this.state.executing && this.props.onClose()}\r\n            maxWidth=\"lg\"\r\n            fullWidth\r\n            fullScreen={this.state.isFullScreen}\r\n            sx={{ '& .MuiDialog-paper': styles.paper }}\r\n        >\r\n            <DialogTitle>\r\n                <SettingsBackupRestore style={{ width: 24, height: 24, margin: '0 10px -4px 0' }} />\r\n                {I18n.t('BackItUp restore execution')}\r\n            </DialogTitle>\r\n            <DialogContent style={styles.dialogContent}>\r\n                {this.state.executing ?\r\n                    <LinearProgress\r\n                        style={{\r\n                            position: 'absolute',\r\n                            top: 0,\r\n                            left: 24,\r\n                            width: 'calc(100% - 64px)',\r\n                        }}\r\n                    /> : <div style={{ height: 4, width: 'calc(100% - 64px)' }} />}\r\n                {this.state.executing || this.state.done ? <div\r\n                    style={{\r\n                        ...styles.logContainer,\r\n                        ...(this.state.isFullScreen ? styles.responseLogContainer : undefined),\r\n                        backgroundColor: this.props.themeType === 'dark' ? '#111' : '#EEE',\r\n                    }}\r\n                    ref={this.textRef}\r\n                >\r\n                    {this.state.executionLog.map((line, i) => Restore.renderLine(line, i, this.state.isFullScreen))}\r\n                </div> : null}\r\n                {!this.state.executing && !this.state.done ? <div>\r\n                    <ul>\r\n                        {this.state.messages.map((message, i) => <li key={i}>\r\n                            {message.number ? `${i + 1}. ` : null}\r\n                            <span style={{ fontSize: 'medium' }}>{message.text}</span>\r\n                        </li>)}\r\n                    </ul>\r\n                </div> : null}\r\n            </DialogContent>\r\n            <DialogActions style={{ ...(this.state.isFullScreen ? styles.dialogActions : undefined) }}>\r\n                <FormControlLabel\r\n                    control={<Checkbox\r\n                        disabled={this.state.done}\r\n                        checked={this.state.closeOnReady}\r\n                        onChange={e => this.setState({ closeOnReady: e.target.checked })}\r\n                    />}\r\n                    label={I18n.t('Close on ready')}\r\n                />\r\n                <Button\r\n                    style={{ marginTop: this.state.isFullScreen ? 10 : 0 }}\r\n                    variant=\"contained\"\r\n                    disabled={this.state.executing || this.state.done}\r\n                    onClick={() => this.setState({\r\n                        executionLog: [{\r\n                            ts: Restore.getTime(),\r\n                            level: 'INFO',\r\n                            text: 'starting Restore...',\r\n                            source: 'gui',\r\n                        }],\r\n                    }, () => this.doRestore())}\r\n                    color={this.props.themeType === 'dark' ? 'primary' : 'grey'}\r\n                >\r\n                    {I18n.t('Restore')}\r\n                </Button>\r\n                <Button\r\n                    style={{ marginTop: this.state.isFullScreen ? 10 : 0 }}\r\n                    color={this.props.themeType === 'dark' ? 'primary' : 'grey'}\r\n                    variant=\"contained\"\r\n                    disabled={this.state.executing}\r\n                    onClick={() => this.props.onClose()}\r\n                >\r\n                    {this.state.done ? I18n.t('Close') : I18n.t('Cancel')}\r\n                </Button>\r\n            </DialogActions>\r\n            {this.renderError()}\r\n            {this.renderRestoreDialog()}\r\n        </Dialog>;\r\n    }\r\n}\r\n\r\nRestore.propTypes = {\r\n    socket: PropTypes.object.isRequired,\r\n    themeType: PropTypes.string,\r\n    adapterName: PropTypes.string.isRequired,\r\n    instance: PropTypes.number.isRequired,\r\n    fileName: PropTypes.string.isRequired,\r\n    location: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Restore;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Button, Checkbox, FormControlLabel } from '@mui/material';\r\nimport { Search } from '@mui/icons-material';\r\n\r\nimport { I18n } from '@iobroker/adapter-react-v5';\r\nimport { ConfigGeneric } from '@iobroker/json-config';\r\n\r\nimport GetBackups from './Components/GetBackups';\r\nimport SourceSelector from './Components/SourceSelector';\r\nimport Restore from './Components/Restore';\r\n\r\nclass RestoreBackup extends ConfigGeneric {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            ...this.state,\r\n            backupSource: window.localStorage.getItem('BackItUp.backupSource') || 'local',\r\n            connectType: this.props.data.connectType,\r\n            showGetBackups: false,\r\n            showRestore: null,\r\n            restoreIfWait: 5000,\r\n        };\r\n    }\r\n\r\n    renderItem() {\r\n        return <div\r\n            style={{\r\n                display: 'grid',\r\n                gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))',\r\n                gap: 12,\r\n                justifyContent: 'space-evenly',\r\n                alignContent: 'center',\r\n                justifyItems: 'stretch',\r\n                gridAutoRows: '1fr',\r\n            }}\r\n        >\r\n            <SourceSelector\r\n                value={this.state.backupSource}\r\n                data={this.props.data}\r\n                onChange={backupSource => {\r\n                    window.localStorage.setItem('BackItUp.backupSource', backupSource);\r\n                    this.setState({ backupSource });\r\n                }}\r\n            />\r\n            <Button\r\n                style={{ marginTop: 16 }}\r\n                onClick={() => this.setState({ showGetBackups: true })}\r\n                disabled={!this.props.alive}\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                endIcon={<Search />}\r\n            >\r\n                {I18n.t('Get list')}\r\n            </Button>\r\n            <FormControlLabel\r\n                control={<Checkbox\r\n                    value={this.props.data.startAllRestore}\r\n                    onChange={e =>\r\n                        this.props.onChange({ ...this.props.data, startAllRestore: e.target.checked })}\r\n                />}\r\n                label={I18n.t('Start all adapter after restore')}\r\n            />\r\n            {this.state.showGetBackups ? <GetBackups\r\n                onClose={() => this.setState({ showGetBackups: false })}\r\n                onRestore={(location, object, fileName) => this.setState({ showRestore: { location, object, fileName }, showGetBackups: false })}\r\n                socket={this.props.socket}\r\n                themeType={this.props.themeType}\r\n                themeBreakpoints={this.props.theme.breakpoints.down}\r\n                adapterName={this.props.adapterName}\r\n                instance={this.props.instance}\r\n                backupSource={this.state.backupSource}\r\n                connectType={this.props.data.connectType}\r\n                allowDownload={this.props.schema.allowDownload}\r\n            /> : null}\r\n            {this.state.showRestore ? <Restore\r\n                alive={this.props.alive}\r\n                location={this.state.showRestore.location}\r\n                fileName={this.state.showRestore.fileName}\r\n                onClose={() => this.setState({ showRestore: null })}\r\n                socket={this.props.socket}\r\n                themeType={this.props.themeType}\r\n                adapterName={this.props.adapterName}\r\n                instance={this.props.instance}\r\n                restoreIfWait={this.state.restoreIfWait}\r\n            /> : null}\r\n        </div>;\r\n    }\r\n}\r\n\r\nRestoreBackup.propTypes = {\r\n    socket: PropTypes.object.isRequired,\r\n    themeType: PropTypes.string,\r\n    style: PropTypes.object,\r\n    schema: PropTypes.object,\r\n    onError: PropTypes.func,\r\n};\r\n\r\nexport default RestoreBackup;\r\n","import PropTypes from 'prop-types';\r\nimport { I18n } from '@iobroker/adapter-react-v5';\r\n\r\nimport BaseField from './BaseField';\r\n\r\nclass CheckAllConfigInvisible extends BaseField {\r\n    constructor(props) {\r\n        super(props);\r\n        this.storedAlive = this.props.alive;\r\n        this.storedChecked = false;\r\n    }\r\n\r\n    checkConfiguration() {\r\n        if (this.props.alive) {\r\n            this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`, 'getSystemInfo', null)\r\n                .then(async result => {\r\n                    let changed = false;\r\n                    if ((result?.systemOS === 'docker' && result.dockerDB === true) || result?.systemOS !== 'docker') {\r\n                        this.props.data._nonSupportDockerDB = false;\r\n                        changed = true;\r\n                    } else if (result?.systemOS === 'docker' && result.dockerDB === false) {\r\n                        this.props.data._nonSupportDockerDB = true;\r\n\r\n                        if (this.props.data.influxDBEnabled) {\r\n                            this.props.data.influxDBEnabled = false;\r\n                            changed = true;\r\n                        }\r\n                        if (this.props.data.mySqlEnabled) {\r\n                            this.props.data.mySqlEnabled = false;\r\n                            changed = true;\r\n                        }\r\n                        if (this.props.data.sqliteEnabled) {\r\n                            this.props.data.sqliteEnabled = false;\r\n                            changed = true;\r\n                        }\r\n                        if (this.props.data.pgSqlEnabled) {\r\n                            this.props.data.pgSqlEnabled = false;\r\n                            changed = true;\r\n                        }\r\n                        if (this.props.data.startAllRestore) {\r\n                            this.props.data.startAllRestore = false;\r\n                            changed = true;\r\n                        }\r\n\r\n                        changed && this.props.onChange(this.props.data);\r\n\r\n                        if (this.props.data.redisType !== 'remote' && this.props.data.redisEnabled) {\r\n                            this.props.data.redisType = 'remote';\r\n                            changed = true;\r\n                        }\r\n                        changed = true;\r\n                    }\r\n\r\n                    if (result?.systemOS === 'docker') {\r\n                        changed = true;\r\n                        this.props.data._restoreIfWait = 10000;\r\n                    } else if (result?.systemOS === 'win') {\r\n                        changed = true;\r\n                        this.props.data._restoreIfWait = 18000;\r\n                    }\r\n                    const CONFIGS = ['ccu', 'mySql', 'sqlite', 'pgSql', 'influxDB', 'history'];\r\n                    for (let c = 0; c < CONFIGS.length; c++) {\r\n                        if (!this.isConfigFilled(CONFIGS[c])) {\r\n                            const _result = await this.fetchConfig(CONFIGS[c], this.props.data)\r\n                                .catch(e => this.showError(e));\r\n                            changed = changed || _result.changed;\r\n                        }\r\n                    }\r\n                });\r\n\r\n            if (!this.props.data.cifsEnabled && !this.storedChecked) {\r\n                this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`, 'getFileSystemInfo', null)\r\n                    .then(result => {\r\n                        if (result?.diskState && result.storage && result.diskFree) {\r\n                            this.storedChecked = true;\r\n                            if (result.diskState === 'warn' && result.storage === 'local') {\r\n                                this.showMessage(I18n.t('On the host only %s MB free space is available! Please check your system!', result.diskFree), I18n.t('BackItUp Information!'));\r\n                            } else if (result.diskState === 'error' && result.storage === 'local') {\r\n                                this.showMessage(I18n.t('On the host only %s MB free space is available! Local backups are currently not possible. Please check your system!', result.diskFree), I18n.t('BackItUp Information!'), 'warning');\r\n                            }\r\n                        }\r\n                    });\r\n            }\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        super.componentDidMount();\r\n        if (this.storedAlive) {\r\n            this.checkConfiguration();\r\n        }\r\n    }\r\n\r\n    renderItem() {\r\n        if (this.storedAlive !== this.props.alive) {\r\n            this.storedAlive = this.props.alive;\r\n            if (this.storedAlive) {\r\n                this.checkConfiguration();\r\n            }\r\n        }\r\n\r\n        return this.renderMessage();\r\n    }\r\n}\r\n\r\nCheckAllConfigInvisible.propTypes = {\r\n    socket: PropTypes.object.isRequired,\r\n    themeType: PropTypes.string,\r\n    themeName: PropTypes.string,\r\n    style: PropTypes.object,\r\n    className: PropTypes.string,\r\n    data: PropTypes.object.isRequired,\r\n    attr: PropTypes.string,\r\n    schema: PropTypes.object,\r\n    onError: PropTypes.func,\r\n    onChange: PropTypes.func,\r\n};\r\n\r\nexport default CheckAllConfigInvisible;\r\n","import AdapterExist from './AdapterExist';\r\nimport BackupNow from './BackupNow';\r\nimport DetectConfig from './DetectConfig';\r\nimport CheckConfigInvisible from './CheckConfigInvisible';\r\nimport GoogleDrive from './GoogleDrive';\r\nimport Onedrive from './Onedrive';\r\nimport Dropbox from './Dropbox';\r\nimport Instance from './Instance';\r\nimport RestoreBackup from './RestoreBackup';\r\nimport CheckAllConfigInvisible from './CheckAllConfigInvisible';\r\n\r\nexport default {\r\n    AdapterExist,\r\n    BackupNow,\r\n    DetectConfig,\r\n    GoogleDrive,\r\n    Onedrive,\r\n    Dropbox,\r\n    CheckConfigInvisible,\r\n    Instance,\r\n    RestoreBackup,\r\n    CheckAllConfigInvisible,\r\n};\r\n"],"names":["BaseField","props","type","data","name","ignoreHosts","backItUpHost","ignore","adapterName","SHOW_MESSAGE_FOR","res","found","i","title","text","level","result","changed","common","native","port","sqlitePath","storeDir","historyPath","message","lines","line","AdapterExist","err","styles","BackupNow","id","state","executionLog","now","parts","code","isFullScreen","date","DetectConfig","CheckConfigInvisible","GoogleDrive","event","e","Onedrive","Dropbox","Instance","instance","target","instances","item","useUserName","obj","userListStr","targets","userList","alive","targetList","itemInstance","it","itemTarget","parseSize","bytes","parseName","ICONS","getIcon","OwnIcon","getLabelByValue","value","connectType","option","_option","fullScreen","backups","setBackups","expanded","setExpanded","_expanded","location","object","a","b","pos","backup","index","url","SourceSelector","options","Restore","WITH_DOWNLOAD","NO_RESTART","isStopped","messages","response","restoreProcess","error","RestoreBackup","backupSource","fileName","CheckAllConfigInvisible","CONFIGS","_result"],"sourceRoot":""}